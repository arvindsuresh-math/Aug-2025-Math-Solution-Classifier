```json
{
  "function_code": "def solve():\n    \"\"\"Index: 2471.\n    Returns: the amount John pays after the discount.\n    \"\"\"\n    # L1\n    cost_per_night = 250 # $250 a night\n    num_nights = 3 # 3 nights\n    total_cost_before_discount = cost_per_night * num_nights\n\n    # L2\n    discount_amount = 100 # $100 discount\n    final_payment = total_cost_before_discount - discount_amount\n\n    # FA\n    answer = final_payment\n    return answer",
  "logical_steps": [
    {
      "line_number": "L1",
      "question_inputs": ["cost_per_night", "num_nights"],
      "WK_inputs": [],
      "output_variable": "total_cost_before_discount",
      "solution_line_template": "The cost is {cost_per_night}*{num_nights}=${<<{cost_per_night}*{num_nights}={total_cost_before_discount}>>{total_cost_before_discount}}"
    },
    {
      "line_number": "L2",
      "question_inputs": ["discount_amount"],
      "WK_inputs": [],
      "output_variable": "final_payment",
      "solution_line_template": "So he spends {total_cost_before_discount}-{discount_amount}=${<<{total_cost_before_discount}-{discount_amount}={final_payment}>>{final_payment}}"
    }
  ]
}
```