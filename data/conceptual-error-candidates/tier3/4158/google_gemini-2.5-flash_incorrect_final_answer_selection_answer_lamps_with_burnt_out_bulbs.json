{
  "index": 4158,
  "original_solution_mapping": {
    "FA": "#### 130",
    "L1": "The total number of light bulbs in the 20 lamps is 20*7 = <<20*7=140>>140",
    "L2": "If 1/4 of the 20 lamps have burnt-out light bulbs, there are 1/4*20 = <<1/4*20=5>>5 lamps with burn out light bulbs",
    "L3": "Since each of the 5 lamps has 2 burnt-out light bulbs, the number of burn out light bulbs is 2*5 = <<2*5=10>>10",
    "L4": "The number of working light bulbs is 140 -10 = <<140-10=130>>130"
  },
  "original_function_code": "def solve():\n    \"\"\"Index: 4158.\n    Returns: the total number of working light bulbs.\n    \"\"\"\n    # L1\n    num_lamps = 20 # 20 lamps\n    bulbs_per_lamp = 7 # seven light bulbs in each lamp\n    total_bulbs = num_lamps * bulbs_per_lamp\n\n    # L2\n    fraction_burnt_out_lamps = Fraction(1, 4) # 1/4 of them\n    lamps_with_burnt_out_bulbs = fraction_burnt_out_lamps * num_lamps\n\n    # L3\n    burnt_out_bulbs_per_lamp = 2 # 2 burnt-out light bulbs each\n    total_burnt_out_bulbs = burnt_out_bulbs_per_lamp * lamps_with_burnt_out_bulbs\n\n    # L4\n    working_bulbs = total_bulbs - total_burnt_out_bulbs\n\n    # FA\n    answer = working_bulbs\n    return answer\n",
  "mutation_details": {
    "type": "incorrect_final_answer_selection",
    "target_variable": "answer",
    "operand_to_replace": "working_bulbs",
    "replacement_variable": "lamps_with_burnt_out_bulbs"
  },
  "correct_trace": {
    "num_lamps": 20,
    "bulbs_per_lamp": 7,
    "total_bulbs": 140,
    "fraction_burnt_out_lamps": "1/4",
    "lamps_with_burnt_out_bulbs": "5",
    "burnt_out_bulbs_per_lamp": 2,
    "total_burnt_out_bulbs": "10",
    "working_bulbs": "130",
    "answer": "130"
  },
  "flawed_trace": {
    "num_lamps": 20,
    "bulbs_per_lamp": 7,
    "total_bulbs": 140,
    "fraction_burnt_out_lamps": "1/4",
    "lamps_with_burnt_out_bulbs": "5",
    "burnt_out_bulbs_per_lamp": 2,
    "total_burnt_out_bulbs": "10",
    "working_bulbs": "130",
    "answer": "5"
  },
  "correct_value": "130",
  "flawed_value": "5",
  "logical_steps": [
    {
      "WK_inputs": [],
      "line_number": "L1",
      "output_variable": "total_bulbs",
      "question_inputs": [
        "num_lamps",
        "bulbs_per_lamp"
      ],
      "solution_line_template": "The total number of light bulbs in the {num_lamps} lamps is {num_lamps}*{bulbs_per_lamp} = <<{num_lamps}*{bulbs_per_lamp}={total_bulbs}>>{total_bulbs}"
    },
    {
      "WK_inputs": [],
      "line_number": "L2",
      "output_variable": "lamps_with_burnt_out_bulbs",
      "question_inputs": [
        "fraction_burnt_out_lamps"
      ],
      "solution_line_template": "If {fraction_burnt_out_lamps} of the {num_lamps} lamps have burnt-out light bulbs, there are {fraction_burnt_out_lamps}*{num_lamps} = <<{fraction_burnt_out_lamps}*{num_lamps}={lamps_with_burnt_out_bulbs}>>{lamps_with_burnt_out_bulbs} lamps with burn out light bulbs"
    },
    {
      "WK_inputs": [],
      "line_number": "L3",
      "output_variable": "total_burnt_out_bulbs",
      "question_inputs": [
        "burnt_out_bulbs_per_lamp"
      ],
      "solution_line_template": "Since each of the {lamps_with_burnt_out_bulbs} lamps has {burnt_out_bulbs_per_lamp} burnt-out light bulbs, the number of burn out light bulbs is {burnt_out_bulbs_per_lamp}*{lamps_with_burnt_out_bulbs} = <<{burnt_out_bulbs_per_lamp}*{lamps_with_burnt_out_bulbs}={total_burnt_out_bulbs}>>{total_burnt_out_bulbs}"
    },
    {
      "WK_inputs": [],
      "line_number": "L4",
      "output_variable": "working_bulbs",
      "question_inputs": [],
      "solution_line_template": "The number of working light bulbs is {total_bulbs} -{total_burnt_out_bulbs} = <<{total_bulbs}-{total_burnt_out_bulbs}={working_bulbs}>>{working_bulbs}"
    }
  ],
  "flawed_nl_reconstruction": {
    "L1": "The total number of light bulbs in the 20 lamps is 20*7 = <<20*7=140>>140",
    "L2": "If 1/4 of the 20 lamps have burnt-out light bulbs, there are 1/4*20 = <<1/4*20=5>>5 lamps with burn out light bulbs",
    "FA": "#### 5"
  },
  "erroneous_line_number": "FA",
  "explanation": "Incorrect final answer. An intermediate value 'lamps_with_burnt_out_bulbs' (value: 5) was reported instead of 'working_bulbs' (value: 130).",
  "repro_seed": 4459224368277928115,
  "model_name": "google_gemini-2.5-flash"
}