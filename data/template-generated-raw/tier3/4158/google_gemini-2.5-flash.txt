{
  "function_code": "from fractions import Fraction\n\ndef solve():\n    \"\"\"Index: 4158.\n    Returns: the total number of working light bulbs.\n    \"\"\"\n    # L1\n    num_lamps = 20 # 20 lamps\n    bulbs_per_lamp = 7 # seven light bulbs in each lamp\n    total_bulbs = num_lamps * bulbs_per_lamp\n\n    # L2\n    fraction_burnt_out_lamps = Fraction(1, 4) # 1/4 of them\n    lamps_with_burnt_out_bulbs = fraction_burnt_out_lamps * num_lamps\n\n    # L3\n    burnt_out_bulbs_per_lamp = 2 # 2 burnt-out light bulbs each\n    total_burnt_out_bulbs = burnt_out_bulbs_per_lamp * lamps_with_burnt_out_bulbs\n\n    # L4\n    working_bulbs = total_bulbs - total_burnt_out_bulbs\n\n    # FA\n    answer = working_bulbs\n    return answer",
  "logical_steps": [
    {
      "WK_inputs": [],
      "line_number": "L1",
      "output_variable": "total_bulbs",
      "question_inputs": [
        "num_lamps",
        "bulbs_per_lamp"
      ],
      "solution_line_template": "The total number of light bulbs in the {num_lamps} lamps is {num_lamps}*{bulbs_per_lamp} = <<{num_lamps}*{bulbs_per_lamp}={total_bulbs}>>{total_bulbs}"
    },
    {
      "WK_inputs": [],
      "line_number": "L2",
      "output_variable": "lamps_with_burnt_out_bulbs",
      "question_inputs": [
        "fraction_burnt_out_lamps"
      ],
      "solution_line_template": "If {fraction_burnt_out_lamps} of the {num_lamps} lamps have burnt-out light bulbs, there are {fraction_burnt_out_lamps}*{num_lamps} = <<{fraction_burnt_out_lamps}*{num_lamps}={lamps_with_burnt_out_bulbs}>>{lamps_with_burnt_out_bulbs} lamps with burn out light bulbs"
    },
    {
      "WK_inputs": [],
      "line_number": "L3",
      "output_variable": "total_burnt_out_bulbs",
      "question_inputs": [
        "burnt_out_bulbs_per_lamp"
      ],
      "solution_line_template": "Since each of the {lamps_with_burnt_out_bulbs} lamps has {burnt_out_bulbs_per_lamp} burnt-out light bulbs, the number of burn out light bulbs is {burnt_out_bulbs_per_lamp}*{lamps_with_burnt_out_bulbs} = <<{burnt_out_bulbs_per_lamp}*{lamps_with_burnt_out_bulbs}={total_burnt_out_bulbs}>>{total_burnt_out_bulbs}"
    },
    {
      "WK_inputs": [],
      "line_number": "L4",
      "output_variable": "working_bulbs",
      "question_inputs": [],
      "solution_line_template": "The number of working light bulbs is {total_bulbs} -{total_burnt_out_bulbs} = <<{total_bulbs}-{total_burnt_out_bulbs}={working_bulbs}>>{working_bulbs}"
    }
  ]
}