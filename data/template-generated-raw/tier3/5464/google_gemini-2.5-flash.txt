{
  "function_code": "from fractions import Fraction\n\ndef solve():\n    \"\"\"Index: 5464.\n    Returns: the total amount of money Bill makes.\n    \"\"\"\n    # L1\n    total_milk_gallons = 16 # 16 gallons of milk\n    fraction_turned = Fraction(1, 4) # 1/4 into sour cream, 1/4 into butter\n    milk_for_product = total_milk_gallons * fraction_turned\n\n    # L2\n    milk_per_gallon_butter = 4 # 4 gallons of milk to make one gallon of butter\n    gallons_per_gallon_butter_unit = 1 # WK\n    gallons_of_butter = milk_for_product / milk_per_gallon_butter / gallons_per_gallon_butter_unit\n\n    # L3\n    milk_per_gallon_sour_cream = 2 # 2 gallons of milk to make 1 gallon of sour cream\n    gallons_per_gallon_sour_cream_unit = 1 # WK\n    gallons_of_sour_cream = milk_for_product / milk_per_gallon_sour_cream / gallons_per_gallon_sour_cream_unit\n\n    # L4\n    remaining_whole_milk = total_milk_gallons - milk_for_product - milk_for_product\n\n    # L5\n    price_whole_milk_per_gallon = 3 # whole milk for $3/gallon\n    cost_whole_milk = remaining_whole_milk * price_whole_milk_per_gallon\n\n    # L6\n    price_sour_cream_per_gallon = 6 # sour cream for $6/gallon\n    cost_sour_cream = gallons_of_sour_cream * price_sour_cream_per_gallon\n\n    # Implicit calculation for butter cost, not a numbered line in solution\n    price_butter_per_gallon = 5 # butter for $5/gallon\n    cost_butter = gallons_of_butter * price_butter_per_gallon\n\n    # L7\n    total_money_earned = cost_whole_milk + cost_sour_cream + cost_butter\n\n    # FA\n    answer = total_money_earned\n    return answer",
  "logical_steps": [
    {
      "WK_inputs": [],
      "line_number": "L1",
      "output_variable": "milk_for_product",
      "question_inputs": [
        "total_milk_gallons",
        "fraction_turned"
      ],
      "solution_line_template": "First find how much milk Bill turned into sour cream and butter: {total_milk_gallons} gallons * {fraction_turned} = <<{total_milk_gallons}*{fraction_turned}={milk_for_product}>>{milk_for_product} gallons"
    },
    {
      "WK_inputs": [
        "gallons_per_gallon_butter_unit"
      ],
      "line_number": "L2",
      "output_variable": "gallons_of_butter",
      "question_inputs": [
        "milk_per_gallon_butter"
      ],
      "solution_line_template": "Then find how many gallons of butter he makes out of {milk_for_product} gallons of milk: {milk_for_product} gallons milk / {milk_per_gallon_butter} gallons milk/{gallons_per_gallon_butter_unit} gallon butter = <<{milk_for_product}/{milk_per_gallon_butter}/{gallons_per_gallon_butter_unit}={gallons_of_butter}>>{gallons_of_butter} gallon butter"
    },
    {
      "WK_inputs": [
        "gallons_per_gallon_sour_cream_unit"
      ],
      "line_number": "L3",
      "output_variable": "gallons_of_sour_cream",
      "question_inputs": [
        "milk_per_gallon_sour_cream"
      ],
      "solution_line_template": "Then find how many gallons of sour cream he makes out of {milk_for_product} gallons of milk: {milk_for_product} gallons milk / {milk_per_gallon_sour_cream} gallons milk/{gallons_per_gallon_sour_cream_unit} gallon sour cream = <<{milk_for_product}/{milk_per_gallon_sour_cream}/{gallons_per_gallon_sour_cream_unit}={gallons_of_sour_cream}>>{gallons_of_sour_cream} gallon sour cream"
    },
    {
      "WK_inputs": [],
      "line_number": "L4",
      "output_variable": "remaining_whole_milk",
      "question_inputs": [],
      "solution_line_template": "Then subtract the amount of milk turned into butter and sour cream to find the remaining amount of whole milk: {total_milk_gallons} gallons - {milk_for_product} gallons - {milk_for_product} gallons = <<{total_milk_gallons}-{milk_for_product}-{milk_for_product}={remaining_whole_milk}>>{remaining_whole_milk} gallons"
    },
    {
      "WK_inputs": [],
      "line_number": "L5",
      "output_variable": "cost_whole_milk",
      "question_inputs": [
        "price_whole_milk_per_gallon"
      ],
      "solution_line_template": "Then multiply the number of gallons of milk by the price of milk to find the total cost of the milk: {remaining_whole_milk} gallons * ${price_whole_milk_per_gallon}/gallon = $<<{remaining_whole_milk}*{price_whole_milk_per_gallon}={cost_whole_milk}>>{cost_whole_milk}"
    },
    {
      "WK_inputs": [],
      "line_number": "L6",
      "output_variable": "cost_sour_cream",
      "question_inputs": [
        "price_sour_cream_per_gallon"
      ],
      "solution_line_template": "Then multiply the number of gallons of sour cream by the price of sour cream to find the total cost of the sour cream: {gallons_of_sour_cream} gallons * ${price_sour_cream_per_gallon}/gallon = $<<{gallons_of_sour_cream}*{price_sour_cream_per_gallon}={cost_sour_cream}>>{cost_sour_cream}"
    },
    {
      "WK_inputs": [],
      "line_number": "L7",
      "output_variable": "total_money_earned",
      "question_inputs": [],
      "solution_line_template": "Then add the cost of the butter, sour cream and milk to find the total amount of money Bill earns: ${cost_whole_milk} + ${cost_sour_cream} + ${cost_butter} = $<<{cost_whole_milk}+{cost_sour_cream}+{cost_butter}={total_money_earned}>>{total_money_earned}"
    }
  ]
}