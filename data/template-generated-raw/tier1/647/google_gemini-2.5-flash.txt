```json
{
  "function_code": "def solve():\n    \"\"\"Index: 647.\n    Returns: the number of cupcakes Quinton had left over.\n    \"\"\"\n    # L1\n    initial_cupcakes = 40 # Quinton brought 40 cupcakes to school\n    students_ms_delmont = 18 # 18 students in Ms. Delmont's class\n    after_ms_delmont_class = initial_cupcakes - students_ms_delmont\n\n    # L2\n    students_mrs_donnelly = 16 # 16 students in Mrs. Donnelly's class\n    after_mrs_donnelly_class = after_ms_delmont_class - students_mrs_donnelly\n\n    # L3\n    cupcake_to_adult = 1 # gave a cupcake to each of the adults (Ms. Delmont, Mrs. Donnelly, nurse, principal)\n    cupcakes_left = after_mrs_donnelly_class - cupcake_to_adult - cupcake_to_adult - cupcake_to_adult - cupcake_to_adult\n\n    # FA\n    answer = cupcakes_left\n    return answer",
  "logical_steps": [
    {
      "line_number": "L1",
      "question_inputs": ["initial_cupcakes", "students_ms_delmont"],
      "WK_inputs": [],
      "output_variable": "after_ms_delmont_class",
      "solution_line_template": "Quinton had {initial_cupcakes} cupcakes - {students_ms_delmont} = <<{initial_cupcakes}-{students_ms_delmont}={after_ms_delmont_class}>>{after_ms_delmont_class} cupcakes."
    },
    {
      "line_number": "L2",
      "question_inputs": ["students_mrs_donnelly"],
      "WK_inputs": [],
      "output_variable": "after_mrs_donnelly_class",
      "solution_line_template": "He then had {after_ms_delmont_class} cupcakes - {students_mrs_donnelly} students = <<{after_ms_delmont_class}-{students_mrs_donnelly}={after_mrs_donnelly_class}>>{after_mrs_donnelly_class} cupcakes."
    },
    {
      "line_number": "L3",
      "question_inputs": ["cupcake_to_adult"],
      "WK_inputs": [],
      "output_variable": "cupcakes_left",
      "solution_line_template": "Quinton then gave away {after_mrs_donnelly_class} - {cupcake_to_adult} - {cupcake_to_adult} - {cupcake_to_adult} - {cupcake_to_adult} = <<{after_mrs_donnelly_class}-{cupcake_to_adult}-{cupcake_to_adult}-{cupcake_to_adult}-{cupcake_to_adult}={cupcakes_left}>>{cupcakes_left} cupcakes left."
    }
  ]
}
```