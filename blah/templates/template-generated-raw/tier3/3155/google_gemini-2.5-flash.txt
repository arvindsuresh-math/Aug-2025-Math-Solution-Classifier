{
  "function_code": "from fractions import Fraction\n\ndef solve():\n    \"\"\"Index: 3155.\n    Returns: the total number of bars left in the box.\n    \"\"\"\n    # L1\n    initial_total_bars = 200 # A chocolate box contains 200 bars\n    fraction_taken_by_group = Fraction(1, 4) # take 1/4 of the bars\n    bars_taken_by_group = fraction_taken_by_group * initial_total_bars\n\n    # L2\n    bars_left_after_group_takes = initial_total_bars - bars_taken_by_group\n\n    # L3\n    num_people_sharing = 5 # Thomas and his 4 friends\n    bars_per_person = bars_taken_by_group / num_people_sharing\n\n    # L4\n    bars_returned_by_friend = 5 # returns 5 of his bars\n    bars_after_return = bars_left_after_group_takes + bars_returned_by_friend\n\n    # L5\n    fewer_bars_piper_took = 5 # takes 5 fewer bars\n    bars_taken_by_piper = bars_taken_by_group - fewer_bars_piper_took\n\n    # L6\n    total_remaining_bars = bars_after_return - bars_taken_by_piper\n\n    # FA\n    answer = total_remaining_bars\n    return answer",
  "logical_steps": [
    {
      "WK_inputs": [],
      "line_number": "L1",
      "output_variable": "bars_taken_by_group",
      "question_inputs": [
        "initial_total_bars",
        "fraction_taken_by_group"
      ],
      "solution_line_template": "Thomas and his friends took {fraction_taken_by_group}*{initial_total_bars} = <<{fraction_taken_by_group}*{initial_total_bars}={bars_taken_by_group}>>{bars_taken_by_group} bars."
    },
    {
      "WK_inputs": [],
      "line_number": "L2",
      "output_variable": "bars_left_after_group_takes",
      "question_inputs": [],
      "solution_line_template": "The total number of bars left in the box was {initial_total_bars}-{bars_taken_by_group} = <<{initial_total_bars}-{bars_taken_by_group}={bars_left_after_group_takes}>>{bars_left_after_group_takes} bars."
    },
    {
      "WK_inputs": [],
      "line_number": "L3",
      "output_variable": "bars_per_person",
      "question_inputs": [
        "num_people_sharing"
      ],
      "solution_line_template": "Since there are {num_people_sharing} of them sharing, each of them got {bars_taken_by_group}/{num_people_sharing} = <<{bars_taken_by_group}/{num_people_sharing}={bars_per_person}>>{bars_per_person} bars."
    },
    {
      "WK_inputs": [],
      "line_number": "L4",
      "output_variable": "bars_after_return",
      "question_inputs": [
        "bars_returned_by_friend"
      ],
      "solution_line_template": "After a friend returned {bars_returned_by_friend} bars, there were {bars_left_after_group_takes} + {bars_returned_by_friend} = <<{bars_left_after_group_takes}+{bars_returned_by_friend}={bars_after_return}>>{bars_after_return} bars in the box."
    },
    {
      "WK_inputs": [],
      "line_number": "L5",
      "output_variable": "bars_taken_by_piper",
      "question_inputs": [
        "fewer_bars_piper_took"
      ],
      "solution_line_template": "Piper took five fewer bars, that is {bars_taken_by_group} - {fewer_bars_piper_took} = <<{bars_taken_by_group}-{fewer_bars_piper_took}={bars_taken_by_piper}>>{bars_taken_by_piper} bars."
    },
    {
      "WK_inputs": [],
      "line_number": "L6",
      "output_variable": "total_remaining_bars",
      "question_inputs": [],
      "solution_line_template": "The total remaining bars left in the box is {bars_after_return} - {bars_taken_by_piper} = <<{bars_after_return}-{bars_taken_by_piper}={total_remaining_bars}>>{total_remaining_bars} bars."
    }
  ]
}