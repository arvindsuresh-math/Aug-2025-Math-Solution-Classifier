{
  "function_code": "def solve():\n    \"\"\"Index: 247.\n    Returns: the number of pills left in the bottle after Tony's usage.\n    \"\"\"\n    # L1\n    initial_pills = 50 # a bottle of 50 pills\n    pills_per_dose = 2 # takes 2 pills each\n    doses_per_day = 3 # three times a day\n    pills_per_day_initial = pills_per_dose * doses_per_day\n\n    # L2\n    days_initial = 2 # for the first 2 days\n    pills_first_period = days_initial * pills_per_day_initial\n\n    # L3\n    pills_per_day_reduced = pills_per_day_initial / 2\n\n    # L4\n    days_reduced = 3 # for the next 3 days\n    pills_second_period = pills_per_day_reduced * days_reduced\n\n    # L5\n    final_day_pills = 2 # On the sixth day, he takes a final 2 pills\n    total_pills_taken = pills_first_period + pills_second_period + final_day_pills\n\n    # L6\n    answer = initial_pills - total_pills_taken\n    return answer",
  "logical_steps": [
    {
      "line_number": "L1",
      "question_inputs": [
        "pills_per_dose",
        "doses_per_day"
      ],
      "WK_inputs": [],
      "output_variable": "pills_per_day_initial",
      "solution_line_template": "Tony starts with {initial_pills} pills and takes {pills_per_dose} pills each {doses_per_day} times a day, meaning he takes {pills_per_dose}*{doses_per_day}={pills_per_day_initial} pills in total."
    },
    {
      "line_number": "L2",
      "question_inputs": [
        "days_initial"
      ],
      "WK_inputs": [],
      "output_variable": "pills_first_period",
      "solution_line_template": "Tony repeats this process for {days_initial} days in total, meaning over those two days he takes {days_initial}*{pills_per_day_initial}= <<{days_initial}*{pills_per_day_initial}={pills_first_period}>>{pills_first_period} pills"
    },
    {
      "line_number": "L3",
      "question_inputs": [],
      "WK_inputs": [],
      "output_variable": "pills_per_day_reduced",
      "solution_line_template": "Tony then cuts down his pill usage in half, meaning he's now taking {pills_per_day_initial}/2= <<{pills_per_day_initial}/2={pills_per_day_reduced}>>{pills_per_day_reduced} pills a day."
    },
    {
      "line_number": "L4",
      "question_inputs": [
        "days_reduced"
      ],
      "WK_inputs": [],
      "output_variable": "pills_second_period",
      "solution_line_template": "Since he repeats this process for {days_reduced} days, that means he takes {pills_per_day_reduced}*{days_reduced}= <<{pills_per_day_reduced}*{days_reduced}={pills_second_period}>>{pills_second_period} pills for that period."
    },
    {
      "line_number": "L5",
      "question_inputs": [
        "final_day_pills"
      ],
      "WK_inputs": [],
      "output_variable": "total_pills_taken",
      "solution_line_template": "Adding in the {final_day_pills} pills Tony took on the final day, that means he took {pills_first_period}+{pills_second_period}+{final_day_pills}=<<{pills_first_period}+{pills_second_period}+{final_day_pills}={total_pills_taken}>>{total_pills_taken} pills."
    },
    {
      "line_number": "L6",
      "question_inputs": [],
      "WK_inputs": [],
      "output_variable": "answer",
      "solution_line_template": "Since there were {initial_pills} pills in the bottle to begin with, this means Tony has {initial_pills}-{total_pills_taken}=<<{initial_pills}-{total_pills_taken}={answer}>>{answer} pills remaining."
    }
  ]
}
